{"version":3,"file":"index.min.js","sources":["index.js"],"sourcesContent":["const Reflect = window.Reflect;\n\nconst {apply: apply, construct: construct, defineProperty: defineProperty, deleteProperty: deleteProperty, get: get, getOwnPropertyDescriptor: getOwnPropertyDescriptor, getPrototypeOf: getPrototypeOf, has: has, isExtensible: isExtensible, ownKeys: ownKeys, preventExtensions: preventExtensions, set: set, setPrototypeOf: setPrototypeOf} = Reflect;\n\nfunction isobject(a) {\n    return typeof a === \"object\" && a !== null;\n}\n\nfunction isfunction(a) {\n    return typeof a === \"function\";\n}\n\nfunction isclassextendsHTMLElement(initclass) {\n    return !!(isfunction(initclass) && initclass.prototype && initclass.prototype instanceof HTMLElement);\n}\n\nif (!isobject(window.customElements)) {\n    throw new TypeError(\" customElements  not supported !\");\n}\n\nfunction 使用value从表中查询key(表, 组件状态名) {\n    return Object.entries(表).find(v => {\n        return v[1] === 组件状态名;\n    })[0];\n}\n\nwindow.CustomElementRegistry = get(getPrototypeOf(window.customElements), \"constructor\");\n\nconst {customElements: customElements, CustomElementRegistry: CustomElementRegistry} = window;\n\nconst elementset = Symbol.for(\"elementset\");\n\nconst elementmap = Symbol.for(\"elementmap\");\n\nvar RandomDefine = (initclass, extendsname) => RandomDefineCustomElement(initclass, extendsname);\n\nfunction RandomDefineCustomElement(initclass, extendsname, length = 1) {\n    if (!isclassextendsHTMLElement(initclass)) {\n        throw TypeError(\"invalid custom element class !\");\n    }\n    if (!customElements[elementset].has(initclass)) {\n        const elementname = getrandomstringandnumber(length);\n        if (customElements.get(elementname)) {\n            return RandomDefineCustomElement(initclass, extendsname, length + 1);\n        } else {\n            if (extendsname) {\n                customElements.define(elementname, initclass, {\n                    extends: extendsname\n                });\n            } else {\n                customElements.define(elementname, initclass);\n            }\n        }\n        return elementname;\n    } else {\n        return 使用value从表中查询key(customElements[elementmap], initclass);\n    }\n}\n\nif (!customElements[elementset]) {\n    customElements[elementset] = new Set;\n}\n\nif (!customElements[elementmap]) {\n    customElements[elementmap] = {};\n}\n\ncustomElements.define = function(name, constructor, options) {\n    if (!isclassextendsHTMLElement(constructor)) {\n        console.error(constructor);\n        throw TypeError(\"invalid custom element class !\");\n    }\n    if (!customElements[elementset].has(constructor)) {\n        if (has(customElements[elementmap], name)) {\n            RandomDefineCustomElement(constructor, options ? options.extends : undefined);\n        } else {\n            CustomElementRegistry.prototype.define.call(customElements, name, constructor, options);\n            customElements[elementset].add(constructor);\n            customElements[elementmap][name] = constructor;\n        }\n    }\n};\n\ncustomElements[Symbol.iterator] = () => {\n    const entries = Object.entries(customElements[elementmap]);\n    return entries[Symbol.iterator].call(entries);\n};\n\nfunction getrandomcharactor() {\n    return get(Array(26).fill(undefined).map((v, i) => 97 + i).map(n => String.fromCharCode(n)), Math.floor(Math.random() * 26));\n}\n\nfunction getrandomhexnumber() {\n    return get(Array(16).fill(undefined).map((v, i) => i), Math.floor(Math.random() * 16)).toString(16);\n}\n\nfunction getrandomstringandnumber(length = 4) {\n    return Array(length).fill(undefined).map(() => getrandomcharactor()).join(\"\") + \"-\" + Array(length).fill(undefined).map(() => getrandomhexnumber()).join(\"\");\n}\n\nexport default RandomDefine;\n//# sourceMappingURL=index.js.map\n"],"names":["Reflect","window","apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf","isclassextendsHTMLElement","initclass","prototype","HTMLElement","a","customElements","TypeError","CustomElementRegistry","elementset","Symbol","for","elementmap","RandomDefineCustomElement","extendsname","length","表","组件状态名","Object","entries","find","v","elementname","Array","fill","undefined","map","i","n","String","fromCharCode","Math","floor","random","join","toString","getrandomstringandnumber","define","extends","Set","name","constructor","options","call","add","iterator"],"mappings":"AAAA,MAAMA,EAAUC,OAAOD,SAEhBE,MAAOA,EAAOC,UAAWA,EAAWC,eAAgBA,EAAgBC,eAAgBA,EAAgBC,IAAKA,EAAKC,yBAA0BA,EAA0BC,eAAgBA,EAAgBC,IAAKA,EAAKC,aAAcA,EAAcC,QAASA,EAASC,kBAAmBA,EAAmBC,IAAKA,EAAKC,eAAgBA,GAAkBd,EAUnV,SAASe,EAA0BC,GAC/B,SAJoB,mBAICA,GAAcA,EAAUC,WAAaD,EAAUC,qBAAqBC,aAG7F,GAXwB,iBADNC,EAYJlB,OAAOmB,iBAXqB,OAAND,EAYhC,MAAM,IAAIE,UAAU,oCAbxB,IAAkBF,EAsBlBlB,OAAOqB,sBAAwBhB,EAAIE,EAAeP,OAAOmB,gBAAiB,eAE1E,MAAOA,eAAgBA,EAAgBE,sBAAuBA,GAAyBrB,OAEjFsB,EAAaC,OAAOC,IAAI,cAExBC,EAAaF,OAAOC,IAAI,cAI9B,SAASE,EAA0BX,EAAWY,EAAaC,EAAS,GAChE,IAAKd,EAA0BC,GAC3B,MAAMK,UAAU,kCAEpB,GAAKD,EAAeG,GAAYd,IAAIO,GAehC,OAnCiBc,EAmCMV,EAAeM,GAnClBK,EAmC+Bf,EAlChDgB,OAAOC,QAAQH,GAAGI,KAAKC,GACnBA,EAAE,KAAOJ,GACjB,GAiB6C,CAC5C,MAAMK,EAuDd,SAAkCP,EAAS,GACvC,OAAOQ,MAAMR,GAAQS,UAAKC,GAAWC,IAAI,IARlClC,EAAI+B,MAAM,IAAIC,UAAKC,GAAWC,IAAI,CAACL,EAAGM,IAAM,GAAKA,GAAGD,IAAIE,GAAKC,OAAOC,aAAaF,IAAKG,KAAKC,MAAsB,GAAhBD,KAAKE,YAQxCC,KAAK,IAAM,IAAMX,MAAMR,GAAQS,UAAKC,GAAWC,IAAI,IAJjHlC,EAAI+B,MAAM,IAAIC,UAAKC,GAAWC,IAAI,CAACL,EAAGM,IAAMA,GAAII,KAAKC,MAAsB,GAAhBD,KAAKE,WAAgBE,SAAS,KAIoDD,KAAK,IAxDjIE,CAAyBrB,GAC7C,OAAIT,EAAed,IAAI8B,GACZT,EAA0BX,EAAWY,EAAaC,EAAS,IAE9DD,EACAR,EAAe+B,OAAOf,EAAapB,EAAW,CAC1CoC,QAASxB,IAGbR,EAAe+B,OAAOf,EAAapB,GAGpCoB,GAjCf,IAAyBN,EAAGC,EAuCvBX,EAAeG,KAChBH,EAAeG,GAAc,IAAI8B,KAGhCjC,EAAeM,KAChBN,EAAeM,GAAc,IAGjCN,EAAe+B,OAAS,SAASG,EAAMC,EAAaC,GAChD,IAAKzC,EAA0BwC,GAE3B,MAAMlC,UAAU,kCAEfD,EAAeG,GAAYd,IAAI8C,KAC5B9C,EAAIW,EAAeM,GAAa4B,GAChC3B,EAA0B4B,EAAaC,EAAUA,EAAQJ,aAAUb,IAEnEjB,EAAsBL,UAAUkC,OAAOM,KAAKrC,EAAgBkC,EAAMC,EAAaC,GAC/EpC,EAAeG,GAAYmC,IAAIH,GAC/BnC,EAAeM,GAAY4B,GAAQC,KAK/CnC,EAAeI,OAAOmC,UAAY,KAC9B,MAAM1B,EAAUD,OAAOC,QAAQb,EAAeM,IAC9C,OAAOO,EAAQT,OAAOmC,UAAUF,KAAKxB,kBAnDtB,CAACjB,EAAWY,IAAgBD,EAA0BX,EAAWY"}